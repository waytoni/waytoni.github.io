
    <div class="container">
        <div class="hero-section">
            <h1>කල්‍යාණ මිත්‍ර අජන්ත සම්පත් ගුරුතුමා මෙහෙයවන</h1>
            <h2>පොල්ගස්ඕවිට කුරුළුබැද්ද පරිශ්‍රයේ දී පැවෙත්වෙන නිවන් මග උදෙසා දර්ශන ඥානය දේශනා මාලාව</h2>
            <p>(හතරවන (D) කන්ඩායම)</p>
        </div>

        <div class="info-grid">
            <div class="info-card">
                <h3><i class="fa fa-clock-o"></i> කාලය</h3>
                <p>බ්‍රහස්පතින්දා ප.ව. 12:30 සිට 3:00 දක්වා</p>
                <p></p>
            </div>
            
            <div class="info-card">
                <h3><i class="fa fa-map-marker"></i> ස්ථානය</h3>
                <p>පොල්ගස්ඕවිට, පලාගම (කුරුළුබැද්ද)</p>
            </div>
            
            <div class="info-card">
                <h3><i class="fa fa-phone"></i> විමසීම්</h3>
                <p>071 448 0752 හෝ 077 704 7174</p>
            </div>
        </div>

        <div class="info-box">
            <h2>Zoom සජීවීව සම්බන්ධ වීමට</h2>
            <p><strong>Meeting ID:</strong> 899 1349 3367</p>
            <p><strong>Passcode:</strong> 100100</p>
            <p><a href="https://us06web.zoom.us/j/89913493367?pwd=UkQ2LzlUTUpKRG9QQTk5YUdTa0FIUT09">
                Zoom සම්බන්ධතාව සඳහා සෘජු සබැඳිය</a></p>
        </div>

        <div class="info-box">
            <h2>සියුලු දේශනා සඳහා සටහන්</h2>
            <p><a href="/documents/NotesForDesana/NotesForDesana.html">සියලුම දේශනා සඳහා සටහන් බලන්න</a></p>
        </div>

        <div class="video-container">
            <div class="video-controls">
                <select id="link-selector" class="video-selector" onchange="updateContent()">
                    <!-- Options will be populated dynamically -->
                </select>
                <div class="nav-buttons">
                    <button class="nav-button" onclick="navigate(-1)">පෙර දේශනාව</button>
                    <button class="nav-button" onclick="navigate(1)">මීළඟ දේශනාව</button>
                </div>
            </div>
            
            <div id="video-container">
                <!-- YouTube video will be embedded here -->
            </div>
        </div>

        <div class="notes-container">
            <h3>
                දේශනා සටහන්
                <div class="font-control">
                    <label for="fontSizeSlider">අකුරු ප්‍රමාණය:</label>
                    <input type="range" id="fontSizeSlider" class="font-slider" min="12" max="36" value="16">
                </div>
            </h3>
            <div id="notes" class="notes-content">
                <!-- Notes will be displayed here -->
            </div>
        </div>
    </div>

    <script>
        let data;
        let seriesTitle = "පොල්ගස්ඕවිට පැවෙත්වෙන නිවන් මග උදෙසා දර්ශන ඥානය දේශනා මාලාව (D කන්ඩායම - හතරවන කොටස)";
        
        // Fetch the JSON data and populate the dropdown menu
        fetch('AbhidharmaAruth_D.json').then(response => {
            if (!response.ok) {
                throw new Error('Network response was not ok ' + response.statusText);
            }
            return response.json();
        }).then(json => {
            data = json;
            populateDropdown();
            displayLastEntry();
        }).catch(error => {
            console.error('There has been a problem with your fetch operation:', error);
        });
        
        // Function to populate the dropdown menu
        function populateDropdown() {
            const selector = document.getElementById('link-selector');
            data.forEach(item => {
                const option = document.createElement('option');
                option.value = item.url;
                option.text = item.comment ? `${item.index} ●  ${item.comment} ● ${item.date}` :
                    `${item.index} ●  ${seriesTitle} ● ${item.date}`;
                option.dataset.index = item.index;
                selector.appendChild(option);
            });
        }
        
        // Function to update the YouTube video and notes based on the selected option
        function updateContent() {
            const selector = document.getElementById('link-selector');
            const selectedOption = selector.options[selector.selectedIndex];
            const url = selectedOption.value;
            const index = selectedOption.dataset.index;
            const notes = data.find(item => item.index == index).notes;
            const videoContainer = document.getElementById('video-container');
            
            videoContainer.innerHTML = 
                `<iframe class="youtube-frame" src="${url.replace('watch?v=', 'embed/')}" frameborder="0" allowfullscreen></iframe>`;
            
            const notesContainer = document.getElementById('notes');
            notesContainer.innerHTML = notes || '<p>මෙම දේශනාව සඳහා සටහන් නොමැත.</p>';
        }
        
        // Function to display the last entry from the JSON data on the initial load
        function displayLastEntry() {
            if (data.length > 0) {
                const lastEntry = data[data.length - 1];
                const selector = document.getElementById('link-selector');
                selector.value = lastEntry.url;
                updateContent();
            }
        }
        
        // Function to navigate to the previous or next video
        function navigate(direction) {
            const selector = document.getElementById('link-selector');
            let newIndex = selector.selectedIndex + direction;
            if (newIndex < 0) {
                newIndex = selector.options.length - 1;
            } else if (newIndex >= selector.options.length) {
                newIndex = 0;
            }
            selector.selectedIndex = newIndex;
            updateContent();
        }
        
        // Font size slider functionality
        const fontSizeSlider = document.getElementById('fontSizeSlider');
        const notesContent = document.getElementById('notes');
        
        fontSizeSlider.addEventListener('input', function () {
            const newFontSize = `${fontSizeSlider.value}px`;
            notesContent.style.fontSize = newFontSize;
        });
    </script>
</body>
</html>