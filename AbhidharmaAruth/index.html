<html>
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GT-MBNDJTD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
	
  	  gtag('config', 'GT-MBNDJTD');
    </script>
    	<link rel="icon" type="image/x-icon" href="/favicon.ico">
	<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
	<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
	<link rel="icon" type="image/png" href="../images/favicon-16x16.png" sizes="16x16" />
	<link rel="manifest" href="/site.webmanifest">   
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" type="text/css" href="../css/nav_menu.css">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script src="../scripts/nav_function.js"></script>
	<style>
		h1,
	 	h2, 
		h3, 
		p, 
		a {
			text-align: center;
		}
	</style>
	<title>අභිධර්ම අරුත් - දේශනා</title>
</head>
<body>
    <div class="topnav" id="Topnavbar">
        <a href="https://waytoni.com/" class="active"><i style="font-size:24px" class="fa">&#xf015;</i></a>
        <a href="../All_Playlists/SiyaluDesana.html">පසුගිය සහ සියලුම දේශනා</a>
        <a href="../Paramartha_Video/Paramartha_Video.html">පරමාර්ථ ලෝකය දේශනා </a>
        <a href="../Anichcha_Dukka_Anathma_Series/Anichcha_Dukka_Anathma.html">අනිච්ච, දුක්ඛ, අනත්ත දේශනා </a>
        <a href="../ChiththaChithasika/index.html">චිත්ත සහ චෛතසික</a>
        <div class="dropdown">
          <button class="dropbtn">දැනට පැවැත්වෙන දේශනා
            <i class="fa fa-caret-down"></i>
          </button>
          <div class="dropdown-content">
            <a href="../Nivan_Maga_Udesa/index.html">නිවන් මග උදෙසා දර්ශන ඥාණය (A කණ්ඩායම)</a>
            <a href="../Saturday_Abhidhamma_Lesson/index.html">තුන්කල්හි වෙනස් නොවන ලොව එකම විශ්ව දර්ශනය දේශනා</a>
            <a href="../Abhidharma_Aruth/">අභිධර්ම අරුත් දේශනා</a>
            <a href="../KalutaraBodhiya/J_series/J_series.html">කළුතර බෝධි පරිශ්‍රයේදී පැවෙත්වෙන නිවන් මග උදෙසා දර්ශන ඥාණය (B කණ්ඩායම) දේශනා මාලාව</a>
            <a href="../Suthamaya/SuthamayaHirigal.html">සුතමයඤාණං දේශනා</a>
            <a href="../VisheshaDesana/VisheshaDesana.html">විශේෂ දේශනා</a>
            <a href="../KalutaraBodhiya/I_series/I_series.html">කළුතර බෝධි පරිශ්‍රයේදී පැවැත්වුන 9වෙනි දේශනා මාලාව</a>
          </div>
        </div> 
        <a href="javascript:void(0);" style="font-size:15px;" class="icon" onclick="navFunction()">&#9776;</a>
    </div>


    <h1>අභිධර්ම අරුත් - දේශනා</h1>
    <p></p>
    <p>උතුම් සූත්‍ර අභිධර්ම පිටකයන් ට අදාළව, ප්‍රායෝගිකව සදහම් මග ක්‍රමානුකූලව පියවරෙන් පියවර, 
        ලෞකික ජීවිතියෙන් උත්තරීතර නිර්වාණය කරා සරලව විග්‍රහ කෙරෙන උතුම් සදහම් සාකච්ඡා.</p>
    <p>බ්‍රහස්පතින්දා ප.ව. 2:00 සිට 4:00 දක්වා</p>
    <p>විමසීම්: 0777 047174, 0714 480752</p>
    <p></p>

<p><label for="link-selectorEP">Select a video from the dropdown menu:</label></p>
<p><select id="link-selectorEP" onchange="updateContentEP()">
    <!-- Options will be populated dynamically -->
</select></p>
<div id="controls">
    <center>

    <button onclick="navigateEP(-1)">Previous</button>
    <button onclick="navigateEP(1)">Next</button>
</center>
</div>
<div id="video-containerEP">
    <!-- YouTube video will be embedded here -->
</div>
<div id="notesEP">
    <!-- Notes will be displayed here -->
</div>

<script>
    let dataEP, dataB;
    let seriesTitle_EP = "අභිධර්ම අරුත් EP - දේශනා"; // Changeable series title
    let seriesTitle_B = "අභිධර්ම අරුත් B - දේශනා"; // Changeable series title
    // Fetch the JSON data and populate the dropdown menu
    fetch('AbhidharmaAruthEP.json').then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok - EP' + response.statusText);
        }
        return response.json();
    }).then(json => {
        dataEP = json;
        populateDropdownEP();
        displayLastEntryEP();
    }).catch(error => {
        console.error('There has been a problem with your fetch operation for EP:', error);
    });
    // Function to populate the dropdown menu
    function populateDropdownEP() {
        const selector = document.getElementById('link-selectorEP');
        dataEP.forEach(item => {
            const option = document.createElement('optionEP');
            option.value = item.url;
            option.text = item.comment ? `${item.index} ● ${item.comment} ● ${item.date}` :
                `${item.index} ● ${seriesTitle_EP} ● ${item.date}`;
            option.dataset.index = item.index;
            selector.appendChild(option);
        });
    }
    // Function to update the YouTube video and notes based on the selected option
    function updateContentEP() {
        const selector = document.getElementById('link-selectorEP');
        const selectedOption = selector.options[selector.selectedIndex];
        const url = selectedOption.value;
        const index = selectedOption.dataset.index;
        const notes = dataEP.find(item => item.index == index).notes;
        const videoContainer = document.getElementById('video-containerEP');
        videoContainer.innerHTML =
            `<p><iframe width="560" height="315" src="${url.replace('watch?v=', 'embed/')}" frameborder="0" allowfullscreen></iframe></p>`;
        const notesContainer = document.getElementById('notes');
        
        notesContainer.innerHTML = '<p>'+ notes + '</p>'; // Use innerHTML to render clickable links
        
    }
    // Function to display the last entry from the JSON data on the initial load
    function displayLastEntryEP() {
        if (dataEP.length > 0) {
            const lastEntry = dataEP[dataEP.length - 1];
            const selector = document.getElementById('link-selectorEP');
            selector.value = lastEntry.url;
            updateContentEP();
        }
    }
    // Function to navigate to the previous or next video
    function navigateEP(direction) {
        const selector = document.getElementById('link-selectorEP');
        let newIndex = selector.selectedIndex + direction;
        if (newIndex < 0) {
            newIndex = selector.options.length - 1;
        } else if (newIndex >= selector.options.length) {
            newIndex = 0;
        }
        selector.selectedIndex = newIndex;
        updateContentEP();
    }


    // Function to populate the dropdown menu
    function populateDropdownB() {
        const selector = document.getElementById('link-selectorB');
        data.forEach(item => {
            const option = document.createElement('optionB');
            option.value = item.url;
            option.text = item.comment ? `${item.index} ● ${item.comment} ● ${item.date}` :
                `${item.index} ● ${seriesTitle_B} ● ${item.date}`;
            option.dataset.index = item.index;
            selector.appendChild(option);
        });
    }
    // Function to update the YouTube video and notes based on the selected option
    function updateContentB() {
        const selector = document.getElementById('link-selectorB');
        const selectedOption = selector.options[selector.selectedIndex];
        const url = selectedOption.value;
        const index = selectedOption.dataset.index;
        const notes = dataB.find(item => item.index == index).notes;
        const videoContainer = document.getElementById('video-containerB');
        videoContainer.innerHTML =
            `<p><iframe width="560" height="315" src="${url.replace('watch?v=', 'embed/')}" frameborder="0" allowfullscreen></iframe></p>`;
        const notesContainer = document.getElementById('notesB');
        
        notesContainer.innerHTML = '<p>'+ notes + '</p>'; // Use innerHTML to render clickable links
        
    }
    // Function to display the last entry from the JSON data on the initial load
    function displayLastEntryB() {
        if (dataB.length > 0) {
            const lastEntry = dataB[dataB.length - 1];
            const selector = document.getElementById('link-selectorB');
            selector.value = lastEntry.url;
            updateContentB();
        }
    }
    // Function to navigate to the previous or next video
    function navigateB(direction) {
        const selector = document.getElementById('link-selectorB');
        let newIndex = selector.selectedIndex + direction;
        if (newIndex < 0) {
            newIndex = selector.options.length - 1;
        } else if (newIndex >= selector.options.length) {
            newIndex = 0;
        }
        selector.selectedIndex = newIndex;
        updateContentB();
    }
</script>
</body>
</html>